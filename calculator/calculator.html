<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Calculator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="container">
      <h1 class="my-5 text-center">Calculator</h1>
      <label for="input"
        >Valid operations -> +, -, *, /, **, ( ) and no spaces</label
      >
      <div class="row">
        <div class="col-10">
          <input
            type="text"
            class="form-control"
            id="input"
            placeholder="eg. (5+6*3-3)/3"
          />
        </div>
        <div class="col-1">
          <button id="calculate" class="btn">Calculate</button>
        </div>
        <div class="col-1">
          <button id="clear" class="btn">Clear</button>
        </div>
      </div>
      <div class="output mt-5"></div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      const calculate = document.getElementById("calculate");
      const clear = document.getElementById("clear");
      let count = 0;
      calculate.addEventListener("click", () => {
        count++;
        const result = document.getElementById("input").value;
        // $(".output").append(`
        // <div id="previous-eqn" class="history col-10">
        //   <h3 class="pt-3 mx-3"><strong>${eval(result)}</strong></h3>
        //   <p class="eqn d-flex justify-content-end pb-3 mx-3">${result}</p>
        // </div>
        // `);

        // Create a new div element
        var div = document.createElement("div");
        div.id = "previous-eqn";
        div.className = "history col-10";

        // Create an h3 element for the result
        var h3 = document.createElement("h3");
        h3.className = "pt-3 mx-3";
        var strong = document.createElement("strong");
        strong.textContent = eval(result);
        h3.appendChild(strong);

        // Create a p element for the equation
        var p = document.createElement("p");
        p.className = "eqn d-flex justify-content-end pb-3 mx-3";
        p.textContent = result;

        // Append the h3 and p elements to the div
        div.appendChild(h3);
        div.appendChild(p);

        // Get the element with class "output" and append the div to it
        var outputElement = document.querySelector(".output");
        var firstChild = outputElement.firstChild;

        // Insert the new div before the first child of the output element
        outputElement.insertBefore(div, firstChild);

        //make the other equations before the previous equation gray
        if (count > 1) {
          firstChild.id="";
        }
      });

      clear.addEventListener("click", () => {
        document.getElementById("input").value = "";
      });
    </script>
    <!-- <script src="script.js"></script> -->
  </body>
</html>
